package net.jeeshop.web.action.manage.advert;import net.jeeshop.core.BaseAction;import net.jeeshop.services.manage.advert.AdvertService;import net.jeeshop.services.manage.advert.bean.Advert;import org.slf4j.Logger;import org.slf4j.LoggerFactory;/** * 广告管理 * @author huangf * */public class AdvertAction extends BaseAction<Advert> {	private static final Logger logger = LoggerFactory.getLogger(AdvertAction.class);	private static final long serialVersionUID = 1L;	private AdvertService advertService;	public AdvertService getAdvertService() {		return advertService;	}	protected void selectListAfter() {		pager.setPagerUrl("advert!selectList.action");	}	public void setAdvertService(AdvertService advertService) {		this.advertService = advertService;	}	public Advert getE() {		return this.e;	}	public void prepare() throws Exception {		if (this.e == null) {			this.e = new Advert();		}		super.initPageSelect();	}	public void insertAfter(Advert e) {		e.clear();	}		@Override	public String insert() throws Exception {		logger.error(">>>AdvertAction.insert");		getSession().setAttribute("insertOrUpdateMsg", "添加广告成功！");		getServer().insert(getE());		String id = e.getId();		logger.error(">>>AdvertAction.insert ,id = "+id);		e.clear();		getResponse().sendRedirect("advert!toEdit2.action?e.id="+id);		return null;	}		@Override	public String update() throws Exception {		getSession().setAttribute("insertOrUpdateMsg", "更新广告成功！");		String id = e.getId();		super.update();		getResponse().sendRedirect("advert!toEdit2.action?e.id="+id);		return null;	}		/**	 * 编辑	 */	public String toEdit() throws Exception {		getSession().setAttribute("insertOrUpdateMsg", "");//列表页面进行编辑文章的时候,需要清空信息		return toEdit0();	}		/**	 * 编辑	 */	public String toEdit2() throws Exception {		return toEdit0();	}		private String toEdit0() throws Exception {		super.toEdit();		return toEdit;	}	}